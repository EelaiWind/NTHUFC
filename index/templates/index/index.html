<!DOCTYPE html>
{% extends "index/base.html" %}
{% load static %}

{% block title_name %}
  <title>Fun攝清華 嬉遊秘境</title>
{% endblock title_name %}
{% block import_source %}
<link rel="stylesheet" href={% static "css/index.css" %} media="screen">
{% endblock import_source %}
{% block body_block %}

<center>
  <h1 style="margin-top: 0px;">六十週年校慶攝影比賽</h1>
  <hr>
  <div class="well" style="padding: 10px; width: 70%">
    <marquee direction="right" scrollamount="5" id="scrolling-text"></marquee>
  </div>
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->

    <br>
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
      <li data-target="#myCarousel" data-slide-to="3"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img src={% static "images/img_chania.jpg" %} alt="Chania">
        <div class="carousel-caption">
          <h3>Chania</h3>
          <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
        </div>
      </div>

      <div class="item">
        <img src={% static "images/img_chania2.jpg" %} alt="Chania">
        <div class="carousel-caption">
          <h3>Chania</h3>
          <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
        </div>
      </div>

      <div class="item">
        <img src={% static "images/img_flower.jpg" %} alt="Flower">
        <div class="carousel-caption">
          <h3>Flowers</h3>
          <p>Beatiful flowers in Kolymbari, Crete.</p>
        </div>
      </div>

      <div class="item">
        <img src={% static "images/img_flower2.jpg" %} alt="Flower">
        <div class="carousel-caption">
          <h3>Flowers</h3>
          <p>Beatiful flowers in Kolymbari, Crete.</p>
        </div>
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  <br><br>
  <a href="{% url 'index:participate' %}" class="btn btn-primary">Participate</a>
</center>

<script type="text/javascript">
var Qsheet_Key = '1iy2_G0DR_RNaTbFNBm8-VDMf-rMkbQhTZDMP1pBYEZU';
var url = 'https://spreadsheets.google.com/feeds/cells/'+ Qsheet_Key +'/1/public/values?alt=json-in-script&callback=?';
var count = 0;
var result;
var scrolling_text = "";
$.getJSON(url, function(data) {
    result = data.feed.entry;
}).then(function(){
    changeText();
    setInterval(changeText,30000);
});

function changeText(){
  document.getElementById("scrolling-text").innerHTML = result[count].gs$cell.$t;
  count ++;
  if(count >= result.length)
    count = 0;
}
</script>
{% endblock body_block %}
